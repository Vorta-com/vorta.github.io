---
import Container from '../core/Container.astro';

const { reversed } = Astro.props;
---

<Container>
  <div class="heading-container">
    <slot name="heading"></slot>
  </div>
  <section class={`sticky-text-image__section ${reversed && `sticky-text-image__section--reversed`}`}>
    <div class="sticky-text-image__text">
      <slot name="text-container"></slot>
    </div>
    <div class="sticky-text-image__image">
      <slot name="image-container"></slot>
    </div>
  </section>
</Container>

<style>
  .heading-container {
    text-align: center;
    margin-bottom: 0.5rem;
  }

  .heading-container h2 {
    font-size: 1rem; 
    font-weight: bold; 
    color: black;
    margin-bottom: 0;
  }

  .sticky-text-image__section {
    margin: calc(var(--section-margin) * 2) auto;
    display: grid;
    grid-template-columns: 6fr 4fr;
    position: relative;
    gap: 2rem;
    padding: 0 5rem;
  }

  .sticky-text-image__text {
    font-size: 0.9rem; 
    line-height: 1.4; 
    color: #555;
  }

  .sticky-text-image__section--reversed {
    grid-template-columns: 4fr 6fr;
  }

  .sticky-text-image__section--reversed .sticky-text-image__text {
    order: 2;
  }

  .sticky-text-image__image {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem; /* This should create spacing between images */
  /* border: 1px solid red; Debug border to visualize the container */
  }

  .sticky-text-image__image :global(img) {
    border-radius: 8px;
    width: 100%;
    height: auto;
    max-height: 50vh;
    object-fit: cover;
    /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); */
  }

  @media (max-width: 768px) {
    .sticky-text-image__section {
      grid-template-columns: 1fr;
      padding: 0 1rem;
    }
  }
</style>
